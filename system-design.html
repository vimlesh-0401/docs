<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>11 System Design Concepts - Interactive Slides</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root {
      --primary-bg: #0a0a0f;
      --surface-bg: #1a1a2e;
      --card-bg: #16213e;
      --accent-blue: #0f3460;
      --accent-cyan: #00d4ff;
      --accent-green: #00ff88;
      --accent-orange: #ff6b35;
      --accent-red: #ff3d71;
      --accent-purple: #7c4dff;
      --text-primary: #ffffff;
      --text-secondary: #b0bec5;
      --text-muted: #78909c;
      --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      --shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: var(--primary-bg);
      color: var(--text-primary);
      overflow: hidden;
      height: 100vh;
    }

    .presentation-container {
      position: relative;
      width: 100%;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .slide {
      display: none;
      width: 95%;
      max-width: 1200px;
      height: 90vh;
      background: var(--surface-bg);
      border-radius: 20px;
      padding: 40px;
      box-shadow: var(--shadow);
      border: 2px solid var(--accent-blue);
      overflow-y: auto;
      animation: slideIn 0.6s ease-out;
    }

    .slide.active {
      display: block;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .slide h1 {
      font-size: clamp(2rem, 4vw, 3.5rem);
      font-weight: 800;
      margin-bottom: 20px;
      background: var(--gradient-1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-align: center;
    }

    .slide h2 {
      font-size: clamp(1.5rem, 3vw, 2.5rem);
      color: var(--accent-cyan);
      margin-bottom: 25px;
      text-align: center;
    }

    .slide h3 {
      color: var(--accent-orange);
      font-size: 1.4rem;
      margin: 20px 0 15px 0;
    }

    .slide p {
      font-size: 1.1rem;
      line-height: 1.7;
      color: var(--text-secondary);
      margin-bottom: 20px;
    }

    .concept-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin: 30px 0;
    }

    .concept-grid.half-grid {
      grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)) !important;
    }

    .concept-card {
      background: var(--card-bg);
      border: 2px solid var(--accent-blue);
      border-radius: 15px;
      padding: 25px;
      text-align: center;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .concept-card:hover {
      transform: translateY(-8px);
      border-color: var(--accent-cyan);
      box-shadow: 0 15px 30px rgba(0, 212, 255, 0.2);
    }

    .concept-number {
      background: var(--gradient-2);
      color: white;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.2rem;
      margin: 0 auto 15px auto;
    }

    .concept-title {
      color: var(--accent-cyan);
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .diagram-container {
      background: var(--card-bg);
      border: 2px solid var(--accent-blue);
      border-radius: 15px;
      padding: 30px;
      margin: 25px 0;
      text-align: center;
    }

    .vs-comparison {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 20px;
      align-items: center;
      margin: 30px 0;
    }

    .comparison-side {
      background: var(--card-bg);
      border: 2px solid var(--accent-green);
      border-radius: 12px;
      padding: 25px;
      text-align: center;
    }

    .comparison-side.left {
      border-color: var(--accent-green);
    }

    .comparison-side.right {
      border-color: var(--accent-orange);
    }

    .vs-divider {
      background: var(--gradient-3);
      color: white;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.2rem;
    }

    .feature-list {
      list-style: none;
      padding: 0;
    }

    .feature-list li {
      padding: 8px 0;
      padding-left: 25px;
      position: relative;
      color: var(--text-secondary);
    }

    .feature-list li::before {
      content: '→';
      position: absolute;
      left: 0;
      color: var(--accent-cyan);
      font-weight: bold;
    }

    .cap-triangle {
      width: 100%;
      height: 500px;
      margin: 30px auto;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--card-bg);
      border-radius: 15px;
      padding: 20px;
    }

    .api-types {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .api-card {
      background: var(--card-bg);
      border: 2px solid var(--accent-purple);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
    }

    .api-card.rest { border-color: var(--accent-green); }
    .api-card.soap { border-color: var(--accent-orange); }
    .api-card.graphql { border-color: var(--accent-purple); }

    .navigation {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 15px;
      background: rgba(26, 26, 46, 0.9);
      padding: 15px 25px;
      border-radius: 50px;
      border: 2px solid var(--accent-blue);
      backdrop-filter: blur(10px);
    }

    .nav-btn {
      background: var(--accent-blue);
      color: white;
      border: none;
      border-radius: 25px;
      padding: 12px 20px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .nav-btn:hover {
      background: var(--accent-cyan);
      transform: translateY(-2px);
    }

    .nav-btn:disabled {
      background: var(--text-muted);
      cursor: not-allowed;
      transform: none;
    }

    .slide-counter {
      position: fixed;
      top: 30px;
      right: 30px;
      background: rgba(26, 26, 46, 0.9);
      padding: 10px 20px;
      border-radius: 25px;
      border: 2px solid var(--accent-blue);
      font-weight: 600;
      color: var(--accent-cyan);
    }

    .technique-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 25px 0;
    }

    .technique-card {
      background: var(--card-bg);
      border: 2px solid var(--accent-green);
      border-radius: 10px;
      padding: 20px;
      text-align: center;
    }

    .technique-card h4 {
      color: var(--accent-green);
      margin-bottom: 10px;
    }

    .algorithm-list {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
    }

    .acid-base-comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      margin: 30px 0;
    }

    .transaction-type {
      background: var(--card-bg);
      border-radius: 15px;
      padding: 25px;
      border: 2px solid var(--accent-cyan);
    }

    .transaction-type.base {
      border-color: var(--accent-orange);
    }

    .property-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .property {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 15px;
      text-align: center;
    }

    .property-letter {
      background: var(--gradient-2);
      color: white;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      margin: 0 auto 10px auto;
    }

    @media (max-width: 768px) {
      .slide {
        width: 98%;
        height: 95vh;
        padding: 20px;
      }
      
      .slide h1 {
        font-size: 2rem;
      }
      
      .concept-grid {
        grid-template-columns: 1fr;
      }
      
      .vs-comparison {
        grid-template-columns: 1fr;
        gap: 15px;
      }
      
      .navigation {
        bottom: 15px;
        padding: 10px 15px;
      }
      
      .nav-btn {
        padding: 8px 15px;
        font-size: 12px;
      }
    }

    .mermaid {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
    }

    /* Custom scrollbar */
    .slide::-webkit-scrollbar {
      width: 8px;
    }

    .slide::-webkit-scrollbar-track {
      background: var(--surface-bg);
    }

    .slide::-webkit-scrollbar-thumb {
      background: var(--accent-blue);
      border-radius: 4px;
    }
  </style>
  
  <!-- Mermaid for diagrams -->
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    mermaid.initialize({ 
      startOnLoad: false, 
      theme: 'dark',
      themeVariables: {
        primaryColor: '#4facfe',
        primaryTextColor: '#ffffff',
        primaryBorderColor: '#0f3460',
        lineColor: '#00d4ff',
        sectionBkgColor: '#16213e',
        altSectionBkgColor: '#1a1a2e',
        gridColor: '#0f3460',
        secondaryColor: '#ff6b35',
        tertiaryColor: '#00ff88'
      }
    });
  </script>
</head>
<body>
  <div class="presentation-container">
    <div class="slide-counter">
      <span id="current-slide">1</span> / <span id="total-slides">13</span>
    </div>

    <!-- Slide 1: Title -->
    <div class="slide active">
      <h1>11 System Design Concepts Explained</h1>
      <div style="text-align: center; margin: 50px 0;">
        <div style="font-size: 1.3rem; color: var(--accent-cyan); margin-bottom: 30px;">
          From "Barely Making Things Work" to "Making Things Work at Scale"
        </div>
        <div style="font-size: 1.1rem; color: var(--text-secondary); margin-bottom: 40px;">
          Master the fundamentals that power big tech applications
        </div>
      </div>
      
      <div class="concept-grid">
        <div class="concept-card">
          <div class="concept-number">🚀</div>
          <div class="concept-title">Scalability</div>
          <p style="color: var(--text-muted); font-size: 0.9rem;">Handle millions of users</p>
        </div>
        <div class="concept-card">
          <div class="concept-number">⚡</div>
          <div class="concept-title">Performance</div>
          <p style="color: var(--text-muted); font-size: 0.9rem;">Speed & throughput</p>
        </div>
        <div class="concept-card">
          <div class="concept-number">🔄</div>
          <div class="concept-title">Reliability</div>
          <p style="color: var(--text-muted); font-size: 0.9rem;">CAP theorem & trade-offs</p>
        </div>
      </div>
      
      <div style="text-align: center; margin-top: 40px;">
        <p style="font-style: italic; color: var(--accent-orange);">
          "How does WhatsApp deliver messages instantly worldwide?"<br>
          "Why doesn't YouTube buffer when millions watch videos?"
        </p>
      </div>
    </div>

    <!-- Slide 2: Scalability -->
    <div class="slide">
      <h2>1. Scalability</h2>
      <p>A system's ability to handle increased load while maintaining acceptable performance.</p>
      
      <div class="vs-comparison">
        <div class="comparison-side left">
          <h3 style="color: var(--accent-green);">Horizontal Scaling</h3>
          <p style="color: var(--text-muted); margin: 15px 0;">Adding more machines</p>
          <div class="mermaid" id="mermaid-slide-2-horiz">
          flowchart LR
    A["Load"] --> B["Server1"] & C["Server2"] & D["Server3"] & E["ServerN"]

          </div>
          <ul class="feature-list">
            <li>Better fault tolerance</li>
            <li>Unlimited scaling potential</li>
            <li>More complex architecture</li>
          </ul>
        </div>
        
        <div class="vs-divider">VS</div>
        
        <div class="comparison-side right">
          <h3 style="color: var(--accent-orange);">Vertical Scaling</h3>
          <p style="color: var(--text-muted); margin: 15px 0;">Upgrading existing machines</p>
          <div class="mermaid" id="mermaid-slide-2-vert">
          flowchart TD
    A["Load"] --> B["Single Server"]

          </div>
          <ul class="feature-list">
            <li>Simpler architecture</li>
            <li>Hardware limitations</li>
            <li>Single point of failure</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Slide 3: Throughput & Bandwidth -->
    <div class="slide">
      <h2>2. Throughput & Bandwidth</h2>
      <p>Often confused terms with different meanings in system design.</p>
      
      <div class="diagram-container">
        <div class="mermaid" id="mermaid-slide-3-main">
---
config:
  layout: dagre
---
flowchart LR
    A["DataSource"] --> B["NetworkPipe"]
    B --> C["Destination"]

        </div>
      </div>
      
      <div class="vs-comparison">
        <div class="comparison-side left">
          <h3 style="color: var(--accent-green);">Bandwidth</h3>
          <div style="font-size: 3rem; margin: 20px 0; color: var(--accent-green);">📏</div>
          <p><strong>Potential capacity</strong> of a network connection</p>
          <p style="color: var(--text-muted);">Like the width of a highway - how much traffic it could theoretically handle</p>
          <div style="background: rgba(0, 255, 136, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px;">
            <strong>Example:</strong> 100 Mbps internet connection
          </div>
        </div>
        
        <div class="vs-divider">≠</div>
        
        <div class="comparison-side right">
          <h3 style="color: var(--accent-orange);">Throughput</h3>
          <div style="font-size: 3rem; margin: 20px 0; color: var(--accent-orange);">🚚</div>
          <p><strong>Actual data transfer</strong> achieved in practice</p>
          <p style="color: var(--text-muted);">Like cars actually moving on the highway - affected by traffic, road conditions</p>
          <div style="background: rgba(255, 107, 53, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px;">
            <strong>Example:</strong> 75 Mbps actual speed due to network congestion
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 4: Concurrency vs Parallelism -->
    <div class="slide">
      <h2>3. Concurrency vs. Parallelism</h2>
      <p>Two fundamental concepts for handling multiple tasks efficiently.</p>
      
      <div class="vs-comparison">
        <div class="comparison-side left">
          <h3 style="color: var(--accent-green);">Concurrency</h3>
          <div style="font-size: 2rem; margin: 15px 0;">🔄</div>
          <p><strong>Managing multiple tasks</strong> at once</p>
          <p style="color: var(--text-muted);">Tasks may run in parallel OR rapidly switch on same core</p>
          
          <div class="mermaid" id="mermaid-slide-4-conc">
---
config:
  layout: dagre
---
flowchart TD
    A["TaskA"] --> B["TaskB"]
    B --> C["TaskA"]
    C --> D["TaskC"]
    D --> E["TaskB"]

          </div>
        </div>
        
        <div class="vs-divider">⊆</div>
        
        <div class="comparison-side right">
          <h3 style="color: var(--accent-orange);">Parallelism</h3>
          <div style="font-size: 2rem; margin: 15px 0;">⚡</div>
          <p><strong>Executing multiple tasks</strong> simultaneously</p>
          <p style="color: var(--text-muted);">Tasks run at exactly the same time on different cores</p>
          
          <div class="mermaid" id="mermaid-slide-4-par">
---
config:
  layout: dagre
---
flowchart LR
    A["Core1TaskA"]
    B["Core2TaskB"]
    C["Core3TaskC"]
          </div>
        </div>
      </div>
      
      <div style="text-align: center; margin-top: 30px; background: var(--card-bg); padding: 20px; border-radius: 12px;">
        <h4 style="color: var(--accent-purple);">Key Relationship</h4>
        <p style="color: var(--text-secondary);">Parallelism is a <strong>subset</strong> of concurrency. All parallel systems are concurrent, but not all concurrent systems are parallel.</p>
      </div>
    </div>

    <!-- Slide 5: CAP Theorem Foundation -->
    <div class="slide">
      <h2>4. CAP Theorem Foundation</h2>
      <p>Understanding the three fundamental properties of distributed systems.</p>
      
      <div class="property-grid" style="margin: 30px 0;">
        <div class="property">
          <div class="property-letter">C</div>
          <h4 style="color: var(--accent-cyan);">Consistency</h4>
          <p style="font-size: 0.9rem; color: var(--text-muted);">All nodes see the same data at the same time</p>
        </div>
        <div class="property">
          <div class="property-letter">A</div>
          <h4 style="color: var(--accent-green);">Availability</h4>
          <p style="font-size: 0.9rem; color: var(--text-muted);">System remains operational and responsive</p>
        </div>
        <div class="property">
          <div class="property-letter">P</div>
          <h4 style="color: var(--accent-orange);">Partition Tolerance</h4>
          <p style="font-size: 0.9rem; color: var(--text-muted);">System continues despite network failures</p>
        </div>
      </div>
      
      <div class="cap-triangle">
        <svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">
          <defs>
            <linearGradient id="triangleGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#00d4ff;stop-opacity:0.2" />
              <stop offset="50%" style="stop-color:#7c4dff;stop-opacity:0.3" />
              <stop offset="100%" style="stop-color:#ff6b35;stop-opacity:0.2" />
            </linearGradient>
            <filter id="glow">
              <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
              <feMerge> 
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          
          <!-- Triangle with perfect equilateral proportions -->
          <polygon points="250,80 120,300 380,300" 
                   fill="url(#triangleGradient)" 
                   stroke="#00d4ff" 
                   stroke-width="2" 
                   filter="url(#glow)"/>
          
          <!-- Corner circles at exact triangle vertices -->
          <circle cx="250" cy="80" r="20" fill="#00d4ff" stroke="#fff" stroke-width="2"/>
          <circle cx="120" cy="300" r="20" fill="#00ff88" stroke="#fff" stroke-width="2"/>
          <circle cx="380" cy="300" r="20" fill="#ff6b35" stroke="#fff" stroke-width="2"/>
          
          <!-- Consistency (Top vertex) -->
          <text x="250" y="50" text-anchor="middle" fill="#00d4ff" font-size="18" font-weight="bold">
            Consistency
          </text>
          <text x="250" y="35" text-anchor="middle" fill="#b0bec5" font-size="11">
            All nodes see same data at same time
          </text>
          
          <!-- Availability (Bottom left vertex) -->
          <text x="100" y="340" text-anchor="middle" fill="#00ff88" font-size="18" font-weight="bold">
            Availability
          </text>
          <text x="100" y="355" text-anchor="middle" fill="#b0bec5" font-size="11">
            System remains operational
          </text>
          
          <!-- Partition Tolerance (Bottom right vertex) -->
          <text x="400" y="340" text-anchor="middle" fill="#ff6b35" font-size="18" font-weight="bold">
            Partition Tolerance
          </text>
          <text x="400" y="355" text-anchor="middle" fill="#b0bec5" font-size="11">
            Works despite network failures
          </text>
          
          <!-- Center text -->
          <text x="250" y="200" text-anchor="middle" fill="#ffffff" font-size="16" font-weight="bold">
            CAP Theorem
          </text>
          <text x="250" y="220" text-anchor="middle" fill="#b0bec5" font-size="13">
            Choose any 2 properties
          </text>
          <text x="250" y="235" text-anchor="middle" fill="#78909c" font-size="12">
            Never all 3 simultaneously
          </text>
          
          <!-- CA edge (Left side of triangle) -->
          <text x="180" y="160" text-anchor="middle" fill="#7c4dff" font-size="14" font-weight="bold" 
                transform="rotate(-60 180 170)">CA</text>
          <text x="180" y="180" text-anchor="middle" fill="#78909c" font-size="10" 
                transform="rotate(-60 180 185)">PostgreSQL,MySQL</text>
          
          <!-- CP edge (Right side of triangle) -->
          <text x="320" y="160" text-anchor="middle" fill="#7c4dff" font-size="14" font-weight="bold" 
                transform="rotate(60 320 160)">CP</text>
          <text x="320" y="180" text-anchor="middle" fill="#78909c" font-size="10" 
                transform="rotate(60 320 180)">MongoDB, HBase</text>
          
          <!-- AP edge (Bottom side of triangle) -->
          <text x="250" y="340" text-anchor="middle" fill="#7c4dff" font-size="14" font-weight="bold">
            AP
          </text>
          <text x="250" y="320" text-anchor="middle" fill="#78909c" font-size="10">
            Cassandra, CouchDB
          </text>
          
          <!-- Property indicators inside circles -->
          <text x="250" y="85" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">C</text>
          <text x="120" y="305" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">A</text>
          <text x="380" y="305" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">P</text>
        </svg>
      </div>
      
      <div style="text-align: center; background: var(--card-bg); padding: 20px; border-radius: 12px; margin-top: 20px;">
        <h3 style="color: var(--accent-red);">The Trade-off</h3>
        <p style="color: var(--text-secondary);">You can guarantee at most <strong>2 out of 3</strong> properties in a distributed system, never all three simultaneously.</p>
      </div>
    </div>

    <!-- Slide 6: CAP Theorem Examples -->
    <div class="slide">
      <h2>5. CAP Theorem in Practice</h2>
      <p>Real-world examples of CAP theorem trade-offs in popular databases.</p>
      
      <div class="concept-grid">
        <div class="concept-card" style="border-color: var(--accent-cyan);">
          <h3 style="color: var(--accent-cyan);">CP Systems</h3>
          <p style="margin: 15px 0;"><strong>Consistency + Partition Tolerance</strong></p>
          <div style="font-size: 2rem; margin: 15px 0;">🔒</div>
          <ul class="feature-list" style="text-align: left;">
            <li>MongoDB</li>
            <li>HBase</li>
            <li>Redis</li>
          </ul>
          <p style="color: var(--text-muted); font-size: 0.9rem; margin-top: 15px;">
            May become unavailable during network partitions to maintain consistency
          </p>
        </div>
        
        <div class="concept-card" style="border-color: var(--accent-green);">
          <h3 style="color: var(--accent-green);">CA Systems</h3>
          <p style="margin: 15px 0;"><strong>Consistency + Availability</strong></p>
          <div style="font-size: 2rem; margin: 15px 0;">🏦</div>
          <ul class="feature-list" style="text-align: left;">
            <li>PostgreSQL</li>
            <li>MySQL</li>
            <li>Traditional RDBMS</li>
          </ul>
          <p style="color: var(--text-muted); font-size: 0.9rem; margin-top: 15px;">
            Single-node systems that can't tolerate network partitions
          </p>
        </div>
        
        <div class="concept-card" style="border-color: var(--accent-orange);">
          <h3 style="color: var(--accent-orange);">AP Systems</h3>
          <p style="margin: 15px 0;"><strong>Availability + Partition Tolerance</strong></p>
          <div style="font-size: 2rem; margin: 15px 0;">🌍</div>
          <ul class="feature-list" style="text-align: left;">
            <li>Cassandra</li>
            <li>CouchDB</li>
            <li>DynamoDB</li>
          </ul>
          <p style="color: var(--text-muted); font-size: 0.9rem; margin-top: 15px;">
            Eventually consistent, always available even during network issues
          </p>
        </div>
      </div>
      
      <div class="mermaid" style='text-align: center;'>
---
config:
  layout: dagre
---
flowchart TD
    A["Network Partition Occurs"] --> B{"Choose Priority"}
    B -- Consistency --> C["CP System<br>Block requests until<br>partition heals"]
    B -- Availability --> D["AP System<br>Accept requests<br>with stale data"]
    style A fill:#ff3d71,stroke:#fff,stroke-width:2px,color:#fff
    style B fill:#7c4dff,stroke:#fff,stroke-width:2px,color:#fff
    style C fill:#00d4ff,stroke:#fff,stroke-width:2px,color:#fff
    style D fill:#ff6b35,stroke:#fff,stroke-width:2px,color:#fff
      </div>
    </div>

    <!-- Slide 7: PACELC Theorem -->
    <div class="slide">
      <h2>6. PACELC Theorem</h2>
      <p>Extends CAP theorem to include normal operations (no partitions).</p>
      
      <div style="text-align: center; margin: 30px 0;">
        <h3 style="color: var(--accent-purple); font-size: 2rem;">PACELC</h3>
        <div style="display: flex; justify-content: center; gap: 10px; margin: 20px 0; flex-wrap: wrap;">
          <span style="background: var(--accent-red); padding: 8px 15px; border-radius: 20px; font-weight: bold;">P</span>
          <span style="background: var(--accent-green); padding: 8px 15px; border-radius: 20px; font-weight: bold;">A</span>
          <span style="background: var(--accent-cyan); padding: 8px 15px; border-radius: 20px; font-weight: bold;">C</span>
          <span style="background: var(--accent-orange); padding: 8px 15px; border-radius: 20px; font-weight: bold;">E</span>
          <span style="background: var(--accent-purple); padding: 8px 15px; border-radius: 20px; font-weight: bold;">L</span>
          <span style="background: var(--accent-cyan); padding: 8px 15px; border-radius: 20px; font-weight: bold;">C</span>
        </div>
        <p style="color: var(--text-secondary);">Partition → Availability vs Consistency, Else → Latency vs Consistency</p>
      </div>
      
      <div class="vs-comparison">
        <div class="comparison-side left">
          <h3 style="color: var(--accent-red);">During Network Partitions</h3>
          <div class="mermaid">
---
config:
  theme: mc
  layout: dagre
---
flowchart TD
    A["Network Partition"] --> B{"CAP Choice"}
    B --> C["Availability<br>Accept stale data"] & D["Consistency<br>Block requests"]
    style A fill:#ff3d71,stroke:#fff,stroke-width:2px,color:#fff
    style B fill:#7c4dff,stroke:#fff,stroke-width:2px,color:#fff
    style C fill:#00ff88,stroke:#fff,stroke-width:2px,color:#fff
    style D fill:#00d4ff,stroke:#fff,stroke-width:2px,color:#fff
          </div>
          <p style="color: var(--text-muted); text-align: center;">Classic CAP theorem applies</p>
        </div>
        
        <div class="vs-divider">+</div>
        
        <div class="comparison-side right">
          <h3 style="color: var(--accent-green);">Normal Operations</h3>
          <div class="mermaid">
---
config:
  layout: dagre
---
flowchart TD
    A["Normal Network"] --> B{"PACELC Choice"}
    B --> C["Low Latency<br>Eventual consistency"] & D["Strong Consistency<br>Higher latency"]
    style A fill:#00ff88,stroke:#fff,stroke-width:2px,color:#fff
    style B fill:#7c4dff,stroke:#fff,stroke-width:2px,color:#fff
    style C fill:#ff6b35,stroke:#fff,stroke-width:2px,color:#fff
    style D fill:#00d4ff,stroke:#fff,stroke-width:2px,color:#fff
          </div>
          <p style="color: var(--text-muted); text-align: center;">Additional trade-off: Latency vs Consistency</p>
        </div>
      </div>
      
      <div style="background: var(--card-bg); padding: 25px; border-radius: 12px; margin-top: 30px;">
        <h4 style="color: var(--accent-orange); text-align: center;">Real-World Impact</h4>
        <p style="text-align: center; color: var(--text-secondary);">Even when the network is healthy, distributed systems must choose between fast responses and consistent data across all nodes.</p>
      </div>
    </div>

    <!-- Slide 8: Latency & Performance -->
    <div class="slide">
      <h2>7. Latency & Performance Optimization</h2>
      <p>The time it takes for a request to travel through the system and return a response.</p>
      
      <div class="diagram-container">
        <h3 style="color: var(--accent-cyan); text-align: center;">Request Journey</h3>
        <div class="mermaid">
---
config:
  layout: dagre
---
flowchart LR
    A["Client"] --> B["LoadBalancer"]
    B --> C["AppServer"] & A
    C --> D["Database"] & B
    D --> C
        </div>
      </div>
      
      <h3>Techniques to Reduce Latency</h3>
      <div class="technique-grid">
        <div class="technique-card">
          <h4>🌐 CDN</h4>
          <p style="color: var(--text-muted); font-size: 0.9rem;">Content Delivery Networks place data closer to users globally</p>
        </div>
        <div class="technique-card">
          <h4>💾 Caching</h4>
          <p style="color: var(--text-muted); font-size: 0.9rem;">Store frequently accessed data in fast memory</p>
        </div>
        <div class="technique-card">
          <h4>🔀 Sharding</h4>
          <p style="color: var(--text-muted); font-size: 0.9rem;">Distribute data across multiple nodes</p>
        </div>
        <div class="technique-card">
          <h4>⚖️ Load Balancing</h4>
          <p style="color: var(--text-muted); font-size: 0.9rem;">Distribute requests across multiple servers</p>
        </div>
      </div>
    </div>

    <!-- Slide 9: Load Balancing Algorithms -->
    <div class="slide">
      <h2>8. Load Balancing Algorithms</h2>
      <p>Different strategies for distributing incoming requests across multiple servers.</p>
      
      <div class="concept-grid half-grid">
        <div class="concept-card" style="border-color: var(--accent-green);">
          <h3 style="color: var(--accent-green);">Round Robin</h3>
          <div style="font-size: 2rem; margin: 15px 0;">🔄</div>
          <p style="color: var(--text-muted);">Requests sent to servers in fixed cyclical order</p>
          <div class="mermaid">
---
config:
  layout: dagre
---
flowchart TD
    A["Request1"] --> B["Server1"]
    C["Request2"] --> D["Server2"]
    E["Request3"] --> F["Server3"]
    G["Request4"] --> B
          </div>
        </div>
        
        <div class="concept-card" style="border-color: var(--accent-orange);">
          <h3 style="color: var(--accent-orange);">Least Connections</h3>
          <div style="font-size: 2rem; margin: 15px 0;">📊</div>
          <p style="color: var(--text-muted);">Route to server with fewest active connections</p>
          <div style="background: rgba(255, 107, 53, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px; text-align: left;">
            <div style="font-size: 0.8rem; color: var(--text-secondary);">
              Server A: 2 connections<br/>
              <strong style="color: var(--accent-orange);">Server B: 1 connection ← Choose</strong><br/>
              Server C: 4 connections
            </div>
          </div>
        </div>
        
        <div class="concept-card" style="border-color: var(--accent-purple);">
          <h3 style="color: var(--accent-purple);">Weighted Round Robin</h3>
          <div style="font-size: 2rem; margin: 15px 0;">⚖️</div>
          <p style="color: var(--text-muted);">Distribute based on server capacity</p>
          <div style="background: rgba(124, 77, 255, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px; text-align: left;">
            <div style="font-size: 0.8rem; color: var(--text-secondary);">
              Server A (2x): Gets 2 requests<br/>
              Server B (1x): Gets 1 request<br/>
              Server C (3x): Gets 3 requests
            </div>
          </div>
        </div>
        
        <div class="concept-card" style="border-color: var(--accent-cyan);">
          <h3 style="color: var(--accent-cyan);">Least Response Time</h3>
          <div style="font-size: 2rem; margin: 15px 0;">⚡</div>
          <p style="color: var(--text-muted);">Route to fastest responding server</p>
          <div style="background: rgba(0, 212, 255, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px; text-align: left;">
            <div style="font-size: 0.8rem; color: var(--text-secondary);">
              Server A: 200ms<br/>
              <strong style="color: var(--accent-cyan);">Server B: 50ms ← Choose</strong><br/>
              Server C: 300ms
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 10: Databases Comparison -->
    <div class="slide">
      <h2>9. Relational vs Non-Relational Databases</h2>
      <p>Two fundamental approaches to data storage and retrieval.</p>
      
      <div class="vs-comparison">
        <div class="comparison-side left">
          <h3 style="color: var(--accent-green);">SQL / Relational</h3>
          <div style="font-size: 2rem; margin: 15px 0;">🗃️</div>
          <ul class="feature-list">
            <li>Fixed table schemas</li>
            <li>ACID transactions</li>
            <li>Strong consistency</li>
            <li>Complex queries (JOIN)</li>
            <li>Vertical scaling</li>
          </ul>
          
          <div style="background: rgba(0, 255, 136, 0.1); padding: 15px; border-radius: 8px; margin-top: 20px;">
            <h4 style="color: var(--accent-green); margin-bottom: 10px;">Examples</h4>
            <ul style="list-style: none; padding: 0;">
              <li style="padding: 5px 0;">• PostgreSQL</li>
              <li style="padding: 5px 0;">• MySQL</li>
              <li style="padding: 5px 0;">• Oracle</li>
            </ul>
          </div>
        </div>
        
        <div class="vs-divider">VS</div>
        
        <div class="comparison-side right">
          <h3 style="color: var(--accent-orange);">NoSQL / Non-Relational</h3>
          <div style="font-size: 2rem; margin: 15px 0;">📦</div>
          <ul class="feature-list">
            <li>Flexible schemas</li>
            <li>BASE transactions</li>
            <li>Eventual consistency</li>
            <li>Simple queries</li>
            <li>Horizontal scaling</li>
          </ul>
          
          <div style="background: rgba(255, 107, 53, 0.1); padding: 15px; border-radius: 8px; margin-top: 20px;">
            <h4 style="color: var(--accent-orange); margin-bottom: 10px;">Examples</h4>
            <ul style="list-style: none; padding: 0;">
              <li style="padding: 5px 0;">• MongoDB (Document)</li>
              <li style="padding: 5px 0;">• Cassandra (Column)</li>
              <li style="padding: 5px 0;">• Redis (Key-Value)</li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="mermaid" style='text-align: center;'>
---
config:
  layout: dagre
---
flowchart TD
    A["Choose Database Type"] --> B{"Data Structure"}
    B --> C["SQL Database"] & D["NoSQL Database"]
    C --> E["PostgreSQL<br>MySQL<br>Oracle"]
    D --> F["Document: MongoDB<br>Key-Value: Redis<br>Column: Cassandra<br>Graph: Neo4j"]
    style A fill:#7c4dff,stroke:#fff,stroke-width:2px,color:#fff
    style B fill:#00d4ff,stroke:#fff,stroke-width:2px,color:#fff
    style C fill:#00ff88,stroke:#fff,stroke-width:2px,color:#fff
    style D fill:#ff6b35,stroke:#fff,stroke-width:2px,color:#fff
    style E fill:#00ff88,stroke:#fff,stroke-width:2px,color:#fff
    style F fill:#ff6b35,stroke:#fff,stroke-width:2px,color:#fff
      </div>
    </div>

    <!-- Slide 11: ACID vs BASE Transactions -->
    <div class="slide">
      <h2>10. ACID vs BASE Transactions</h2>
      <p>Two different approaches to handling data consistency in distributed systems.</p>
      
      <div class="acid-base-comparison">
        <div class="transaction-type">
          <h3 style="color: var(--accent-cyan); text-align: center;">ACID Transactions</h3>
          <p style="text-align: center; color: var(--text-muted); margin-bottom: 25px;">Strong consistency, used by SQL databases</p>
          
          <div class="property-grid">
            <div class="property">
              <div class="property-letter">A</div>
              <h4 style="color: var(--accent-cyan);">Atomicity</h4>
              <p style="font-size: 0.8rem; color: var(--text-muted);">All or nothing - transaction completes entirely or fails</p>
            </div>
            <div class="property">
              <div class="property-letter">C</div>
              <h4 style="color: var(--accent-cyan);">Consistency</h4>
              <p style="font-size: 0.8rem; color: var(--text-muted);">System remains valid before and after transaction</p>
            </div>
            <div class="property">
              <div class="property-letter">I</div>
              <h4 style="color: var(--accent-cyan);">Isolation</h4>
              <p style="font-size: 0.8rem; color: var(--text-muted);">Concurrent transactions don't interfere</p>
            </div>
            <div class="property">
              <div class="property-letter">D</div>
              <h4 style="color: var(--accent-cyan);">Durability</h4>
              <p style="font-size: 0.8rem; color: var(--text-muted);">Changes persist even after system failures</p>
            </div>
          </div>
        </div>
        
        <div class="transaction-type base">
          <h3 style="color: var(--accent-orange); text-align: center;">BASE Transactions</h3>
          <p style="text-align: center; color: var(--text-muted); margin-bottom: 25px;">Eventual consistency, used by NoSQL databases</p>
          
          <div class="property-grid">
            <div class="property">
              <div class="property-letter">B</div>
              <h4 style="color: var(--accent-orange);">Basically Available</h4>
              <p style="font-size: 0.8rem; color: var(--text-muted);">System remains operational even during partial failures</p>
            </div>
            <div class="property">
              <div class="property-letter">A</div>
              <h4 style="color: var(--accent-orange);">Soft State</h4>
              <p style="font-size: 0.8rem; color: var(--text-muted);">Data can be temporarily inconsistent across nodes</p>
            </div>
            <div class="property">
              <div class="property-letter">S</div>
              <h4 style="color: var(--accent-orange);">Eventual</h4>
              <p style="font-size: 0.8rem; color: var(--text-muted);">System will become consistent given enough time</p>
            </div>
            <div class="property">
              <div class="property-letter">E</div>
              <h4 style="color: var(--accent-orange);">Consistency</h4>
              <p style="font-size: 0.8rem; color: var(--text-muted);">All nodes will eventually have the same data</p>
            </div>
          </div>
        </div>
      </div>
      
      <div style="text-align: center; margin-top: 30px;">
        <div class="mermaid">
---
config:
  layout: dagre
---
flowchart LR
    A["Banking App"] --> B["PostgreSQL<br>Strong Consistency"]
    C["Social Media"] --> D["Cassandra<br>High Availability"]
    style A fill:#00ff88,stroke:#fff,stroke-width:2px,color:#000
    style B fill:#00d4ff,stroke:#fff,stroke-width:2px,color:#fff
    style C fill:#ff6b35,stroke:#fff,stroke-width:2px,color:#fff
    style D fill:#ff6b35,stroke:#fff,stroke-width:2px,color:#fff
        </div>
      </div>
    </div>

    <!-- Slide 12: APIs -->
    <div class="slide">
      <h2>11. APIs - Application Programming Interfaces</h2>
      <p>The communication protocols that allow different applications to talk to each other.</p>
      
      <div class="diagram-container">
        <h3 style="color: var(--accent-cyan); text-align: center;">API as a Waiter</h3>
        <div class="mermaid">
---
config:
  layout: dagre
---
flowchart LR
    A["Client"] --> B["API Waiter"]
    B --> C["Server Kitchen"] & A
    C --> B
    style A fill:#4facfe,stroke:#fff,stroke-width:2px,color:#fff
    style B fill:#00ff88,stroke:#fff,stroke-width:2px,color:#fff
    style C fill:#ff6b35,stroke:#fff,stroke-width:2px,color:#fff
        </div>
      </div>
      
      <div class="api-types">
        <div class="api-card rest">
          <h3 style="color: var(--accent-green);">REST</h3>
          <p style="color: var(--text-muted); margin: 15px 0;">Representational State Transfer</p>
          <ul class="feature-list" style="text-align: left;">
            <li>HTTP methods (GET, POST, PUT, DELETE)</li>
            <li>Stateless requests</li>
            <li>JSON responses</li>
            <li>Multiple endpoints</li>
          </ul>
          <div style="background: rgba(0, 255, 136, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px;">
            <code style="font-size: 0.8rem; color: var(--text-secondary);">
              GET /api/users/123<br/>
              POST /api/users<br/>
              PUT /api/users/123
            </code>
          </div>
        </div>
        
        <div class="api-card soap">
          <h3 style="color: var(--accent-orange);">SOAP</h3>
          <p style="color: var(--text-muted); margin: 15px 0;">Simple Object Access Protocol</p>
          <ul class="feature-list" style="text-align: left;">
            <li>XML message format</li>
            <li>Built-in error handling</li>
            <li>Enterprise security</li>
            <li>Strict standards</li>
          </ul>
          <div style="background: rgba(255, 107, 53, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px;">
            <code style="font-size: 0.8rem; color: var(--text-secondary);">
              &lt;soap:Envelope&gt;<br/>
              &nbsp;&nbsp;&lt;soap:Body&gt;<br/>
              &nbsp;&nbsp;&nbsp;&nbsp;&lt;GetUser&gt;<br/>
              &nbsp;&nbsp;&lt;/soap:Body&gt;<br/>
              &lt;/soap:Envelope&gt;
            </code>
          </div>
        </div>
        
        <div class="api-card graphql">
          <h3 style="color: var(--accent-purple);">GraphQL</h3>
          <p style="color: var(--text-muted); margin: 15px 0;">Query Language for APIs</p>
          <ul class="feature-list" style="text-align: left;">
            <li>Single endpoint</li>
            <li>Request exact data needed</li>
            <li>Strongly typed</li>
            <li>Real-time subscriptions</li>
          </ul>
          <div style="background: rgba(124, 77, 255, 0.1); padding: 15px; border-radius: 8px; margin-top: 15px;">
            <code style="font-size: 0.8rem; color: var(--text-secondary);">
              query {<br/>
              &nbsp;&nbsp;user(id: 123) {<br/>
              &nbsp;&nbsp;&nbsp;&nbsp;name<br/>
              &nbsp;&nbsp;&nbsp;&nbsp;email<br/>
              &nbsp;&nbsp;}<br/>
              }
            </code>
          </div>
        </div>
      </div>
    </div>

    <!-- Slide 13: Summary -->
    <div class="slide">
      <h1>System Design Mastery</h1>
      
      <div style="text-align: center; margin: 30px 0;">
        <p style="font-size: 1.3rem; color: var(--accent-cyan); margin-bottom: 30px;">
          From Concepts to Real-World Applications
        </p>
      </div>
      
      <div class="concept-grid">
        <div class="concept-card" style="border-color: var(--accent-green);">
          <div class="concept-number">🏗️</div>
          <div class="concept-title">Scale</div>
          <p style="color: var(--text-muted); font-size: 0.9rem;">Horizontal vs Vertical scaling, Load balancing algorithms</p>
        </div>
        <div class="concept-card" style="border-color: var(--accent-orange);">
          <div class="concept-number">⚡</div>
          <div class="concept-title">Performance</div>
          <p style="color: var(--text-muted); font-size: 0.9rem;">Latency, Throughput, Caching, CDNs</p>
        </div>
        <div class="concept-card" style="border-color: var(--accent-purple);">
          <div class="concept-number">🔄</div>
          <div class="concept-title">Reliability</div>
          <p style="color: var(--text-muted); font-size: 0.9rem;">CAP theorem, PACELC, Consistency models</p>
        </div>
        <div class="concept-card" style="border-color: var(--accent-cyan);">
          <div class="concept-number">💾</div>
          <div class="concept-title">Data</div>
          <p style="color: var(--text-muted); font-size: 0.9rem;">SQL vs NoSQL, ACID vs BASE transactions</p>
        </div>
        <div class="concept-card" style="border-color: var(--accent-red);">
          <div class="concept-number">🌐</div>
          <div class="concept-title">Communication</div>
          <p style="color: var(--text-muted); font-size: 0.9rem;">REST, SOAP, GraphQL APIs</p>
        </div>
        <div class="concept-card" style="border-color: var(--accent-green);">
          <div class="concept-number">🧵</div>
          <div class="concept-title">Concurrency</div>
          <p style="color: var(--text-muted); font-size: 0.9rem;">Parallelism, Concurrency patterns</p>
        </div>
      </div>
      
      <div style="background: var(--card-bg); padding: 30px; border-radius: 15px; margin-top: 40px; text-align: center;">
        <h3 style="color: var(--accent-orange); margin-bottom: 20px;">Next Steps</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
          <div style="background: rgba(0, 255, 136, 0.1); padding: 20px; border-radius: 10px;">
            <h4 style="color: var(--accent-green);">🤔 Think</h4>
            <p style="color: var(--text-muted); font-size: 0.9rem;">How do your favorite apps work behind the scenes?</p>
          </div>
          <div style="background: rgba(255, 107, 53, 0.1); padding: 20px; border-radius: 10px;">
            <h4 style="color: var(--accent-orange);">🛠️ Practice</h4>
            <p style="color: var(--text-muted); font-size: 0.9rem;">Redesign small projects with these concepts</p>
          </div>
          <div style="background: rgba(124, 77, 255, 0.1); padding: 20px; border-radius: 10px;">
            <h4 style="color: var(--accent-purple);">💬 Discuss</h4>
            <p style="color: var(--text-muted); font-size: 0.9rem;">Talk to other engineers about solutions</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="navigation">
    <button class="nav-btn" id="prevBtn" onclick="previousSlide()">← Previous</button>
    <button class="nav-btn" id="nextBtn" onclick="nextSlide()">Next →</button>
  </div>

  <script>
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;

    document.getElementById('total-slides').textContent = totalSlides;

    function renderMermaidDiagramsForSlide(slideIdx) {
      const activeSlide = document.querySelector('.slide.active');
      mermaid.init(undefined, activeSlide.querySelectorAll('.mermaid'));
    }

    function showSlide(n) {
      slides.forEach(slide => slide.classList.remove('active'));
      if (n >= totalSlides) currentSlide = 0;
      if (n < 0) currentSlide = totalSlides - 1;
      slides[currentSlide].classList.add('active');
      document.getElementById('current-slide').textContent = currentSlide + 1;
      document.getElementById('prevBtn').disabled = currentSlide === 0;
      document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;

      // Render Mermaid diagrams for the current slide
      renderMermaidDiagramsForSlide(currentSlide);
    }
    
    function nextSlide() {
      if (currentSlide < totalSlides - 1) {
        currentSlide++;
        showSlide(currentSlide);
      }
    }
    
    function previousSlide() {
      if (currentSlide > 0) {
        currentSlide--;
        showSlide(currentSlide);
      }
    }
    
    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      if (e.key === 'ArrowRight' || e.key === ' ') {
        e.preventDefault();
        nextSlide();
      } else if (e.key === 'ArrowLeft') {
        e.preventDefault();
        previousSlide();
      }
    });

    // Initialize
    showSlide(0);
    // Click on concept cards for interaction
    document.addEventListener('click', function(e) {
      if (e.target.closest('.concept-card')) {
        const card = e.target.closest('.concept-card');
        card.style.transform = 'scale(0.95)';
        setTimeout(() => {
          card.style.transform = '';
        }, 150);
      }
    });
  </script>
</body>
</html>